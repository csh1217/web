<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <h1 id="clock">0000-00-00 00:00:00</h1>
    <button onclick="run()">현재 시간 출력</button>
    <button onclick="stop()">중지</button>
    <button onclick="reset()">초기화</button>
</body>
<script>
    /*
        Q1. 정수를 n 자리로 맞춰서 사용하기
        - num 값이 각각 1, 2, 3 이라면
        ex) console.log(makeZeroNum(num, 2)) => 01, 02, 03, ...
        ex) console.log(makeZeroNum(num, 3)) => 001, 002, 003, ...
        ex) console.log(makeZeroNum(num, 4)) => 0001, 0002, 0003, ...

        함수 makeZeroNum을 만드시오.
    */


// 10, 3 일때 -> 10 < Math.pow(10, (3-1)) => 앞에 0 하나 추가
// 검증하면서 자릿수(b) --

    function makeZeroNum(a, b){
        a = String(a);
        while(a.length < b){
            a = '0' + a;
        }
        return a;
    }   
    let num = Number(prompt('숫자 입력'));
    let digit = Number(prompt('자릿수 입력'));
    console.log(makeZeroNum(num , digit));
    


    /*
        Q2 현재 날짜와 시간을 다음과 같은 형식으로 출력하는 함수 to12Times를 작성하시오.
        * 위 <h1 id = "clock">0000-00-00 00:00:00</h1> 요소에 추가

        ex) 2019-7-15 오후 3:24
    */
    const clock = document.getElementById("clock");

    let now = new Date();
    console.log(now);
    console.log(now.getDate());

    
    clock.innerText = ''; 
    
     function to12Times(){
        let b = new Date()
        clock.innerText =
        `${b.getFullYear()}-${b.getMonth() + 1}-${b.getDate()} ${(b.getHours() > 11)?'오후':'오전'} ${((b.getHours()>11)?(b.getHours()-12):(b.getHours()==0)?12:b.getHours())}:${b.getMinutes()}`;
        return clock.innerText;
    }
//00시?
    console.log(to12Times());
    

    /*
        Q3 현재 날짜와 시간을 다음과 같은 형식으로 출력하는 함수 watch를 작성하시오.
        (시작 버튼과 중지 버튼을 사용)
        ex) 2019-07-15 15:24:08 (초는 계속 바뀜) !!! 형식 주의!!! body 태그에 태그들 참고

    */
   function watch(){
        let b = new Date();
        let hour = ((b.getHours() < 10)?'0':'') + b.getHours(); // 시, 분 ,초가 한자리 숫자일 때 앞에 0 추가
        let min = ((b.getMinutes() < 10)?'0':'') + b.getMinutes();
        let sec = ((b.getSeconds() < 10)?'0':'') + b.getSeconds();
        clock.innerText = 
        `${b.getFullYear()}-${makeZeroNum((b.getMonth() + 1),2)}-${makeZeroNum((b.getDate()),2)} ${makeZeroNum((b.getHours), 2)}:${makeZeroNum((b.getMinutes), 2)}:${makeZeroNum((b.getSeconds), 2)}`;
        return clock.innerText
   }

   intervalId = null;// run 중복 실행을 막아주기 위한 변수 생성
   let run = function() {
        if(intervalId !== null) return; // run 중복 방지(여러번 클릭 시 여러번 실행 되는 것 방지)
        intervalId = setInterval(() => {
            watch();
        }, 1000);
    }
   let stop = function(){
    clearInterval(intervalId)
    intervalId = null; // 변수 초기화
   }
    let reset = function() {
        stop();
        clock.innerText = to12Times(now);
    }

</script>
</html>