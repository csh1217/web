<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <h1 id="clock">0000-00-00 00:00:00</h1>
    <button onclick="run()">현재 시간 출력</button>
    <button onclick="stop()">중지</button>
    <button onclick="reset()">초기화</button>
</body>
<script>
    /*
        Q1. 정수를 n 자리로 맞춰서 사용하기
        - num 값이 각각 1, 2, 3 이라면
        ex) console.log(makeZeroNum(num, 2)) => 01, 02, 03, ...
        ex) console.log(makeZeroNum(num, 3)) => 001, 002, 003, ...
        ex) console.log(makeZeroNum(num, 4)) => 0001, 0002, 0003, ...

        함수 makeZeroNum을 만드시오.
    */


// 10, 3 일때 -> 10 < Math.pow(10, (3-1)) => 앞에 0 하나 추가
// 검증하면서 자릿수(b) --
/*
    function makeZeroNum(a, b){
        for(;b > 0; b--){
            if(a < Math.pow(10, (b-1))){
                a = '0'+a;
            }else{
                return a
            }
        }
    }   
    let num = Number(prompt('숫자 입력'));
    let digit = Number(prompt('자릿수 입력'));
    console.log(makeZeroNum(num , digit));
    */


    /*
        Q2 현재 날짜와 시간을 다음과 같은 형식으로 출력하는 함수 to12Times를 작성하시오.
        * 위 <h1 id = "clock">0000-00-00 00:00:00</h1> 요소에 추가

        ex) 2019-7-15 오후 3:24
    */
    const clock = document.getElementById("clock");

    let now = new Date();
    console.log(now);
    console.log(now.getDate());

    
    clock.innerText = ''; 
    
     function to12Times(a){
        let b = new Date(a)
        let h;
        if(b.getHours() > 11){
            h = b.getHours() - 12;
        }else{
            h = b.getHours();
        }
        clock.innerText =
        `${b.getFullYear()}-${b.getMonth()}-${b.getDate()} ${(b.getHours() > 11)?'오후':'오전'} ${h}:${b.getMinutes()}`;
        return clock.innerText;
    }

    console.log(to12Times(now));
    

    /*
        Q3 현재 날짜와 시간을 다음과 같은 형식으로 출력하는 함수 watch를 작성하시오.
        (시작 버튼과 중지 버튼을 사용)
        ex) 2019-07-15 15:24:08 (초는 계속 바뀜) !!! 형식 주의!!! body 태그에 태그들 참고

    */
   function watch(){
        let b = new Date();
        let hour = ((b.getHours() < 10)?'0':'') + b.getHours();
        let min = ((b.getMinutes() < 10)?'0':'') + b.getMinutes();
        let sec = ((b.getSeconds() < 10)?'0':'') + b.getSeconds();
        clock.innerText = 
        `${b.getFullYear()}-${b.getMonth()}-${b.getDate()} ${hour}:${min}:${sec}`;
        return clock.innerText
   }

   intervalId = null;
   let run = function() {
        if(intervalId !== null) return;
        intervalId = setInterval(() => {
            watch();
        }, 1000);
    }
   let stop = function(){
    clearInterval(intervalId)
    intervalId = null;
   }
    let reset = function() {
        stop();
        clock.innerText = to12Times(now);
    }

</script>
</html>