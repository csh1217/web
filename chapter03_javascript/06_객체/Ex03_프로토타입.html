<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    
</body>
<script>
    /*
        프로토타입(prototype)
        - 생성자 함수는 프로토타입 프로퍼티를 가지고 있다.
        - 생성자로부터 생성된 인스턴스(객체)는 프로토타입으로부터 프로퍼티와 메소드를 상속 받는다.
        - 생성자 함수와 프로토타입은 서로 참조할 수 있다.

        즉 생성자 함수와 프로토타입은 짝꿍으로 생각하면 되며,
        생성자 함수가 만들어질 때 프로토타입도 생성된다고 보면 된다.
    */

    // 1. 일반 생성자 방식
   // 생성자 함수
   function Person(name, age){
        this.name = name;
        this.age = age;
        this.eyes = 2;
        this.nose = 1;
   }
   // 객체 생성
   let p1 = new Person('김씨', 20);
   let p2 = new Person('박씨', 30);

   console.log( p1 );
   console.log( p2 );
   console.log( p1.eyes );
   console.log( p2.eyes );

   //2/ 프로토타입 사용
   
   function Person2(name, age){
        this.name = name;
        this.age = age;
        this.__proto__.eyes = 2;    //공용 데이터(프로토타입)
        this.__proto__.nose = 1;    //공용 데이터(프로토타입)
   }

   // !!생성자 밖에서 프로토타입 추가
   Person2.prototype.head = 1;

   // 객체 생성
   let man = new Person2('김씨', 20);
   let woman = new Person2('박씨', 30);
   // 객체 정보 출력
   console.log( man );          //{name : '김씨', age : 20}
   console.log( man.eyes );     //2
   console.log( man.nose );     //1
   console.log( man.head );     //1
   console.log( woman );        //{name : '박씨', age : 30}
   console.log( woman.eyes );   //2
   console.log( woman.nose );   //1
   console.log( woman.head );   //1

   /*
    Q1. 생성자 함수를 이용하여 학생 객체를 생성하고, 학생의 이름과 평균 출력
    1. 생성자 : Student(name, kor, eng, mat)
    2. 평균 반환 메소드 추가 : getAverage => 국영수 점수 이용하여 평균
    3. 내용을 출력하는 메소드 추가 : info
    4. 두 명 이상의 학생 객체를 생성
    5. 학생들을 담는 배열 students를 생성 후 학생 객체를 추가
    6. 반복문을 이용하여 정보 출력
   */

   //1
    function Student(name, kor, eng, mat){
        this.name = name;
        this.kor = kor;
        this.eng = eng;
        this.mat = mat;
    }

    //2 
    Student.prototype.getAverage = function(){
        return (this.kor + this.eng + this.mat)/3;
    };

    //3
    Student.prototype.info = function(){
        console.log(`이름 : ${this.name},평균 : ${this.getAverage}점`);
    };

    //4
    let s1 = new Student('김', 80, 90, 100);
    let s2 = new Student('최', 70, 80, 90);
    let s3 = new Student('박', 76, 84, 92);

    //5
    let students = [];
    students[0] = s1;
    students[1] = s2;
    students[2] = s3;


    //6
    for(let s in students){
        s.info();
    }
</script>
</html>